:root{
    --bg:#121212;
    --bg2:#1E1E1E;
    --text:#EAEAEA;
    --text2:#A3A3A3;
    --muted:#6B6B6B;
    --blue:#3B82F6;
    --teal:#06B6D4;
    --green:#10B981;
    --amber:#FBBF24;
    --red:#EF4444;
    --radius:16px;
    --shadow:0 8px 24px rgba(0,0,0,.25);
  }
  
  *{ box-sizing:border-box }
  html,body{ height:100% }
  body{
    margin:0; display:flex; background:var(--bg); color:var(--text);
    font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  }
  
  .sidebar{
    width:280px; background:var(--bg2); padding:16px; display:flex; flex-direction:column; gap:16px;
    border-right:1px solid #222;
  }
  .brand{ font-weight:800; font-size:1.25rem }
  .year-switcher label{ font-size:.8rem; color:var(--text2); display:block; margin-bottom:4px }
  .year-switcher select{ width:100%; padding:8px 10px; border-radius:10px; border:1px solid #2a2a2a; background:#151515; color:var(--text) }
  .nav{ display:flex; flex-direction:column; gap:8px }
  .nav-item{
    text-align:left; width:100%; padding:10px 12px; border-radius:10px; background:#171717; color:var(--text2);
    border:1px solid #222; cursor:pointer;
  }
  .nav-item.active, .nav-item:hover{ color:var(--text); border-color:#2a2a2a; background:#1a1a1a }
  
  .footer-note{ color:var(--muted); font-size:.8rem; margin-top:auto }
  
  .app{ flex:1; display:flex; flex-direction:column; min-width:0 }
  .topbar{
    padding:12px 16px; display:flex; align-items:center; justify-content:space-between; border-bottom:1px solid #222; background:#141414;
  }
  .crumbs{ font-weight:700 }
  .quick-actions .btn{ margin-left:8px }
  
  .content{ padding:16px; display:flex; flex-direction:column; gap:16px }
  
  .grid{ display:grid; gap:16px }
  .grid-2{ grid-template-columns: repeat(2, minmax(0,1fr)); }
  .grid-3{ grid-template-columns: repeat(3, minmax(0,1fr)); }
  @media(max-width:1100px){ .grid-3{ grid-template-columns:1fr; } .grid-2{ grid-template-columns:1fr; } .sidebar{ width:240px } }
  
  .page{ display:none }
  .page.active{ display:block }
  
  .card{
    background:var(--bg2); border:1px solid #222; border-radius:var(--radius); box-shadow:var(--shadow);
    padding:16px;
  }
  .row{ display:flex; gap:8px; align-items:center; }
  .row-between{ display:flex; justify-content:space-between; align-items:center; gap:12px }
  
  .btn{
    background:var(--teal); color:white; border:none; border-radius:12px; padding:10px 14px; cursor:pointer; font-weight:600;
  }
  .btn.primary{ background:var(--blue) }
  .btn.secondary{ background:#0b4a56 }
  .btn.ghost{ background:transparent; border:1px solid #2a2a2a; color:var(--text2) }
  .btn.small{ padding:6px 10px; border-radius:10px; font-size:.9rem }
  .btn.tiny{ padding:4px 8px; font-size:.85rem }
  
  input, textarea, select{
    background:#151515; color:var(--text); border:1px solid #2a2a2a; border-radius:10px; padding:8px 10px; width:100%;
  }
  label{ color:var(--text2); font-size:.9rem; display:flex; flex-direction:column; gap:6px }
  
  .list{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:8px }
  .list li{
    background:#171717; border:1px solid #272727; border-radius:12px; padding:12px;
  }
  
  .task-list{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:10px }
  .task{
    background:#171717; border:1px solid #272727; border-radius:14px; padding:12px; display:grid; grid-template-columns: 32px 1fr auto; gap:10px; align-items:center;
  }
  .task .icon{ font-size:20px }
  .task .title{ font-weight:700 }
  .task .meta{ color:var(--text2); font-size:.9rem; display:flex; gap:8px; flex-wrap:wrap }
  .task .tags{ display:flex; gap:6px; flex-wrap:wrap }
  .tag{ padding:2px 8px; border-radius:999px; font-size:.8rem; border:1px solid #2a2a2a; color:var(--text2) }
  .tag.subject{ color:white; border:none }
  .tag.green{ background:#133328; color:#a3f0c9 }
  .tag.yellow{ background:#332a13; color:#f7e3a5 }
  .tag.red{ background:#3a1515; color:#ffb2b2 }
  .actions{ display:flex; gap:6px }
  
  .dot{ width:10px; height:10px; border-radius:50%; display:inline-block; }
  .dot.blue{ background:var(--blue) }
  .dot.teal{ background:var(--teal) }
  
  .ring-card{ display:flex; flex-direction:column; gap:12px }
  .ring-wrap{ position:relative; width:200px; height:200px; margin:0 auto }
  .ring{ width:200px; height:200px; transform:rotate(-90deg) }
  .ring-track{ fill:none; stroke:#222; stroke-width:12 }
  .ring-progress{ fill:none; stroke:var(--blue); stroke-width:12; stroke-linecap:round; stroke-dasharray:100; stroke-dashoffset:100; transition:stroke-dashoffset .6s ease }
  .ring-center{ position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; transform:rotate(90deg) }
  .ring-center .avg{ font-size:28px; font-weight:800 }
  .ring-center .sub{ color:var(--text2); font-size:.9rem }
  .ring-meta{ display:flex; justify-content:space-around; color:var(--text2) }
  
  .calendar{ display:grid; grid-template-columns: repeat(7,1fr); gap:6px; margin-top:10px }
  .calendar .cell{
    border:1px solid #272727; border-radius:12px; padding:8px; min-height:80px; background:#151515; position:relative;
  }
  .calendar .dow{ text-align:center; font-weight:700; color:var(--text2); background:transparent; border:none }
  .calendar .cell .num{ font-size:.9rem; color:var(--text2) }
  .badge{ position:absolute; top:8px; right:8px; padding:2px 6px; border-radius:999px; font-size:.7rem; color:white }
  .badge.red{ background:var(--red) }
  .badge.yellow{ background:var(--amber); color:#1a1a1a }
  .badge.green{ background:var(--green) }
  
  .modal::backdrop{ background:rgba(0,0,0,.6) }
  .modal{ border:none; border-radius:16px; width:min(760px, 92vw); background:var(--bg2); color:var(--text); padding:0 }
  .form{ padding:16px; display:flex; flex-direction:column; gap:12px }
  .form h3{ margin:0 0 8px 0 }
  menu{ display:flex; gap:8px; margin:0; padding:0 }
  
  .subject-chip{ display:inline-flex; gap:8px; align-items:center; padding:8px 10px; border-radius:12px; background:#161616; border:1px solid #2a2a2a; color:#fff; margin:4px; }
  .subject-color{ width:12px; height:12px; border-radius:50% }
  
  .muted{ color:var(--muted) }
  
  .planner .planner-head{ display:flex; align-items:center; justify-content:center; gap:10px; margin-bottom:8px }
  #calendarTitle{ font-weight:800 }
  .planner-summary{ color:var(--text2); margin-top:10px }
  
  .notice{
    border:1px dashed #2a2a2a; padding:10px; border-radius:12px; color:var(--text2); background:#161616;
  }
  
  /* Buttons inside list items */
  .btn.inline{ padding:6px 10px; font-size:.85rem; border-radius:8px }
  
  /* ========= RESPONSIVE DESIGN ========= */

/* Phones: stack everything */
@media (max-width: 600px) {
  body {
    flex-direction: column;
  }

  .sidebar {
    width: 100%;
    height: auto;
    position: relative;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    padding: 0.5rem;
    border-bottom: 1px solid #2A2A2A;
  }

  .sidebar .brand {
    font-size: 1.2rem;
  }

  .year-switcher, .footer-note {
    display: none; /* hide extra UI on phones */
  }

  .nav {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
  }
  .nav button {
    flex: 1;
    font-size: 0.8rem;
    padding: 0.4rem;
  }

  .app {
    margin-left: 0;
    width: 100%;
  }

  .grid.grid-2, .grid.grid-3 {
    grid-template-columns: 1fr !important;
  }

  .card {
    margin: 0.5rem 0;
  }

  button, input, select, textarea {
    font-size: 1rem;
    width: 100%;
  }
}

/* Tablets (portrait iPad etc.) */
@media (min-width: 601px) and (max-width: 900px) {
  .sidebar {
    width: 70px;
    padding: 0.5rem;
  }
  .sidebar .brand,
  .sidebar .year-switcher,
  .sidebar .footer-note {
    display: none;
  }
  .nav {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }
  .nav button {
    font-size: 0.9rem;
    padding: 0.5rem;
  }
  .app {
    margin-left: 70px;
  }
  .grid.grid-3 {
    grid-template-columns: repeat(2, 1fr);
  }
}
